{"dom_code": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"variables_set\" id=\"1\" inline=\"true\" x=\"30\" y=\"-67\"><field name=\"VAR\">colore_oggetto</field><value name=\"VALUE\"><block type=\"colour_picker\" id=\"2\"><field name=\"COLOUR\">#990000</field></block></value><next><block type=\"variables_set\" id=\"3\" inline=\"true\"><field name=\"VAR\">colore_deposito</field><value name=\"VALUE\"><block type=\"colour_picker\" id=\"4\"><field name=\"COLOUR\">#ffcc00</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"5\" inline=\"false\"><mutation name=\"cerca_oggetto\"><arg name=\"colore\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"6\"><field name=\"VAR\">colore_oggetto</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"7\" inline=\"false\"><mutation name=\"prendi_oggetto\"><arg name=\"colore\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"8\"><field name=\"VAR\">colore_oggetto</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"9\" inline=\"false\"><mutation name=\"cerca_deposito\"><arg name=\"colore\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"10\"><field name=\"VAR\">colore_deposito</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"11\" inline=\"false\"><mutation name=\"raggiungi_deposito\"><arg name=\"colore\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"12\"><field name=\"VAR\">colore_deposito</field></block></value></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_defnoreturn\" id=\"13\" collapsed=\"true\" x=\"388\" y=\"-83\"><mutation><arg name=\"colore\"></arg></mutation><field name=\"NAME\">cerca_oggetto</field><statement name=\"STACK\"><block type=\"controls_whileUntil\" id=\"14\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"15\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"16\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"17\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"18\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO\"><block type=\"variables_set\" id=\"19\" inline=\"true\"><field name=\"VAR\">giro</field><value name=\"VALUE\"><block type=\"math_number\" id=\"20\"><field name=\"NUM\">0</field></block></value><next><block type=\"controls_whileUntil\" id=\"21\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_operation\" id=\"22\" inline=\"true\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"23\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"24\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"25\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"26\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"27\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"28\"><field name=\"VAR\">giro</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"29\"><field name=\"NUM\">1</field></block></value></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"30\" inline=\"true\"><field name=\"ACTION\">LEFT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"31\"><field name=\"NUM\">75</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"32\"><field name=\"NUM\">0.4</field></block></value><next><block type=\"variables_set\" id=\"33\" inline=\"true\"><field name=\"VAR\">giro</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"34\" inline=\"true\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"35\"><field name=\"VAR\">giro</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"36\"><field name=\"NUM\">0.05</field></block></value></block></value></block></next></block></statement></block></next></block></statement><next><block type=\"coderbot_say\" id=\"37\" inline=\"false\"><value name=\"TEXT\"><block type=\"text\" id=\"38\"><field name=\"TEXT\">oggetto trovato</field></block></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"39\" x=\"392\" y=\"-36\"><mutation><arg name=\"colore\"></arg></mutation><field name=\"NAME\">prendi_oggetto</field><statement name=\"STACK\"><block type=\"controls_whileUntil\" id=\"40\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"41\" inline=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"42\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"43\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"44\"><field name=\"NUM\">25</field></block></value></block></value><statement name=\"DO\"><block type=\"controls_whileUntil\" id=\"45\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"46\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"47\" inline=\"true\"><field name=\"RETVAL\">ANGLE</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"48\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"49\"><field name=\"NUM\">-5</field></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"50\" inline=\"true\"><field name=\"ACTION\">LEFT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"51\"><field name=\"NUM\">80</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"52\"><field name=\"NUM\">0.1</field></block></value></block></statement><next><block type=\"controls_whileUntil\" id=\"53\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"54\" inline=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"55\" inline=\"true\"><field name=\"RETVAL\">ANGLE</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"56\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"57\"><field name=\"NUM\">5</field></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"58\" inline=\"true\"><field name=\"ACTION\">RIGHT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"59\"><field name=\"NUM\">80</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"60\"><field name=\"NUM\">0.1</field></block></value></block></statement><next><block type=\"coderbot_adv_move\" id=\"61\" inline=\"true\"><field name=\"ACTION\">FORWARD</field><value name=\"SPEED\"><block type=\"math_number\" id=\"62\"><field name=\"NUM\">100</field></block></value><value name=\"ELAPSE\"><block type=\"math_arithmetic\" id=\"63\" inline=\"true\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"64\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"65\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"66\"><field name=\"NUM\">20</field></block></value></block></value></block></next></block></next></block></statement><next><block type=\"coderbot_adv_move\" id=\"67\" inline=\"true\"><field name=\"ACTION\">FORWARD</field><value name=\"SPEED\"><block type=\"math_number\" id=\"68\"><field name=\"NUM\">100</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"69\"><field name=\"NUM\">1.5</field></block></value><next><block type=\"coderbot_say\" id=\"70\" inline=\"false\"><value name=\"TEXT\"><block type=\"text\" id=\"71\"><field name=\"TEXT\">oggetto agganciato</field></block></value></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"72\" collapsed=\"true\" x=\"397\" y=\"6\"><mutation><arg name=\"colore\"></arg></mutation><field name=\"NAME\">cerca_deposito</field><statement name=\"STACK\"><block type=\"controls_whileUntil\" id=\"73\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"74\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"75\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"76\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"77\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO\"><block type=\"variables_set\" id=\"78\" inline=\"true\"><field name=\"VAR\">giro</field><value name=\"VALUE\"><block type=\"math_number\" id=\"79\"><field name=\"NUM\">0</field></block></value><next><block type=\"controls_whileUntil\" id=\"80\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_operation\" id=\"81\" inline=\"true\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"82\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"83\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"84\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"85\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"86\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"87\"><field name=\"VAR\">giro</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"88\"><field name=\"NUM\">1</field></block></value></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"89\" inline=\"true\"><field name=\"ACTION\">LEFT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"90\"><field name=\"NUM\">75</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"91\"><field name=\"NUM\">0.4</field></block></value><next><block type=\"variables_set\" id=\"92\" inline=\"true\"><field name=\"VAR\">giro</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"93\" inline=\"true\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"94\"><field name=\"VAR\">giro</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"95\"><field name=\"NUM\">0.06</field></block></value></block></value></block></next></block></statement><next><block type=\"coderbot_adv_move\" id=\"96\" inline=\"true\"><field name=\"ACTION\">FORWARD</field><value name=\"SPEED\"><block type=\"math_number\" id=\"97\"><field name=\"NUM\">100</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"98\"><field name=\"NUM\">2</field></block></value></block></next></block></next></block></statement><next><block type=\"coderbot_say\" id=\"99\" inline=\"false\"><value name=\"TEXT\"><block type=\"text\" id=\"100\"><field name=\"TEXT\">deposito avvistato</field></block></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"101\" collapsed=\"true\" x=\"394\" y=\"51\"><mutation><arg name=\"colore\"></arg></mutation><field name=\"NAME\">raggiungi_deposito</field><statement name=\"STACK\"><block type=\"controls_whileUntil\" id=\"102\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"103\" inline=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"104\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"105\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"106\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO\"><block type=\"controls_whileUntil\" id=\"107\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"108\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"109\" inline=\"true\"><field name=\"RETVAL\">ANGLE</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"110\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"111\"><field name=\"NUM\">-5</field></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"112\" inline=\"true\"><field name=\"ACTION\">LEFT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"113\"><field name=\"NUM\">80</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"114\"><field name=\"NUM\">0.1</field></block></value></block></statement><next><block type=\"controls_whileUntil\" id=\"115\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"116\" inline=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"117\" inline=\"true\"><field name=\"RETVAL\">ANGLE</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"118\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"119\"><field name=\"NUM\">5</field></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"120\" inline=\"true\"><field name=\"ACTION\">RIGHT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"121\"><field name=\"NUM\">80</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"122\"><field name=\"NUM\">0.1</field></block></value></block></statement><next><block type=\"coderbot_adv_move\" id=\"123\" inline=\"true\"><field name=\"ACTION\">FORWARD</field><value name=\"SPEED\"><block type=\"math_number\" id=\"124\"><field name=\"NUM\">100</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"125\"><field name=\"NUM\">2</field></block></value></block></next></block></next></block></statement><next><block type=\"coderbot_say\" id=\"126\" inline=\"false\"><value name=\"TEXT\"><block type=\"text\" id=\"127\"><field name=\"TEXT\">missione compiuta</field></block></value></block></next></block></statement></block></xml>", "code": "colore_oggetto = None\ncolore = None\ncolore_deposito = None\ngiro = None\n\ndef cerca_oggetto(colore):\n  global giro\n  get_prog_eng().check_end()\n  while get_cam().find_color(colore)[0] < 0:\n    get_prog_eng().check_end()\n    giro = 0\n    while get_cam().find_color(colore)[0] < 0 and giro < 1:\n      get_prog_eng().check_end()\n      get_bot().left(speed=75, elapse=0.4)\n      giro = giro + 0.05\n  get_bot().say('oggetto trovato')\n\ndef prendi_oggetto(colore):\n  get_prog_eng().check_end()\n  while get_cam().find_color(colore)[0] > 25:\n    get_prog_eng().check_end()\n    while get_cam().find_color(colore)[1] < -5:\n      get_prog_eng().check_end()\n      get_bot().left(speed=80, elapse=0.1)\n    while get_cam().find_color(colore)[1] > 5:\n      get_prog_eng().check_end()\n      get_bot().right(speed=80, elapse=0.1)\n    get_bot().forward(speed=100, elapse=get_cam().find_color(colore)[0] / 20)\n  get_bot().forward(speed=100, elapse=1.5)\n  get_bot().say('oggetto agganciato')\n\ndef cerca_deposito(colore):\n  global giro\n  get_prog_eng().check_end()\n  while get_cam().find_color(colore)[0] < 0:\n    get_prog_eng().check_end()\n    giro = 0\n    while get_cam().find_color(colore)[0] < 0 and giro < 1:\n      get_prog_eng().check_end()\n      get_bot().left(speed=75, elapse=0.4)\n      giro = giro + 0.06\n    get_bot().forward(speed=100, elapse=2)\n  get_bot().say('deposito avvistato')\n\ndef raggiungi_deposito(colore):\n  get_prog_eng().check_end()\n  while get_cam().find_color(colore)[0] > 0:\n    get_prog_eng().check_end()\n    while get_cam().find_color(colore)[1] < -5:\n      get_prog_eng().check_end()\n      get_bot().left(speed=80, elapse=0.1)\n    while get_cam().find_color(colore)[1] > 5:\n      get_prog_eng().check_end()\n      get_bot().right(speed=80, elapse=0.1)\n    get_bot().forward(speed=100, elapse=2)\n  get_bot().say('missione compiuta')\n\n\ncolore_oggetto = '#990000'\ncolore_deposito = '#ffcc00'\ncerca_oggetto(colore_oggetto)\nprendi_oggetto(colore_oggetto)\ncerca_deposito(colore_deposito)\nraggiungi_deposito(colore_deposito)\n", "name": "find_color"}