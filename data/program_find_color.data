{"dom_code": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"variables_set\" id=\"265\" inline=\"true\" x=\"30\" y=\"-67\"><field name=\"VAR\">colore_oggetto</field><value name=\"VALUE\"><block type=\"colour_picker\" id=\"266\"><field name=\"COLOUR\">#ff6600</field></block></value><next><block type=\"variables_set\" id=\"267\" inline=\"true\"><field name=\"VAR\">colore_deposito</field><value name=\"VALUE\"><block type=\"colour_picker\" id=\"268\"><field name=\"COLOUR\">#ffcc00</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"269\" inline=\"false\"><mutation name=\"cerca_oggetto\"><arg name=\"colore\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"270\"><field name=\"VAR\">colore_oggetto</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"271\" inline=\"false\"><mutation name=\"prendi_oggetto\"><arg name=\"colore\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"272\"><field name=\"VAR\">colore_oggetto</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"273\" inline=\"false\"><mutation name=\"cerca_deposito\"><arg name=\"colore\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"274\"><field name=\"VAR\">colore_deposito</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"275\" inline=\"false\"><mutation name=\"raggiungi_deposito\"><arg name=\"colore\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"276\"><field name=\"VAR\">colore_deposito</field></block></value></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_defnoreturn\" id=\"277\" collapsed=\"true\" x=\"388\" y=\"-83\"><mutation><arg name=\"colore\"></arg></mutation><field name=\"NAME\">cerca_oggetto</field><statement name=\"STACK\"><block type=\"controls_whileUntil\" id=\"278\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"279\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"280\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"281\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"282\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO\"><block type=\"variables_set\" id=\"283\" inline=\"true\"><field name=\"VAR\">giro</field><value name=\"VALUE\"><block type=\"math_number\" id=\"284\"><field name=\"NUM\">0</field></block></value><next><block type=\"controls_whileUntil\" id=\"285\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_operation\" id=\"286\" inline=\"true\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"287\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"288\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"289\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"290\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"291\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"292\"><field name=\"VAR\">giro</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"293\"><field name=\"NUM\">1</field></block></value></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"294\" inline=\"true\"><field name=\"ACTION\">LEFT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"295\"><field name=\"NUM\">75</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"296\"><field name=\"NUM\">0.4</field></block></value><next><block type=\"variables_set\" id=\"297\" inline=\"true\"><field name=\"VAR\">giro</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"298\" inline=\"true\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"299\"><field name=\"VAR\">giro</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"300\"><field name=\"NUM\">0.05</field></block></value></block></value></block></next></block></statement></block></next></block></statement><next><block type=\"coderbot_say\" id=\"301\" inline=\"false\"><value name=\"TEXT\"><block type=\"text\" id=\"302\"><field name=\"TEXT\">oggetto trovato</field></block></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"303\" x=\"392\" y=\"-36\"><mutation><arg name=\"colore\"></arg></mutation><field name=\"NAME\">prendi_oggetto</field><statement name=\"STACK\"><block type=\"controls_whileUntil\" id=\"304\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"305\" inline=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"306\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"307\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"308\"><field name=\"NUM\">25</field></block></value></block></value><statement name=\"DO\"><block type=\"controls_whileUntil\" id=\"309\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"310\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"311\" inline=\"true\"><field name=\"RETVAL\">ANGLE</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"312\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"313\"><field name=\"NUM\">-5</field></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"314\" inline=\"true\"><field name=\"ACTION\">LEFT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"315\"><field name=\"NUM\">80</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"316\"><field name=\"NUM\">0.1</field></block></value></block></statement><next><block type=\"controls_whileUntil\" id=\"317\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"318\" inline=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"319\" inline=\"true\"><field name=\"RETVAL\">ANGLE</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"320\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"321\"><field name=\"NUM\">5</field></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"322\" inline=\"true\"><field name=\"ACTION\">RIGHT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"323\"><field name=\"NUM\">80</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"324\"><field name=\"NUM\">0.1</field></block></value></block></statement><next><block type=\"coderbot_adv_move\" id=\"325\" inline=\"true\"><field name=\"ACTION\">FORWARD</field><value name=\"SPEED\"><block type=\"math_number\" id=\"326\"><field name=\"NUM\">100</field></block></value><value name=\"ELAPSE\"><block type=\"math_arithmetic\" id=\"327\" inline=\"true\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"328\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"329\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"330\"><field name=\"NUM\">20</field></block></value></block></value></block></next></block></next></block></statement><next><block type=\"coderbot_adv_move\" id=\"331\" inline=\"true\"><field name=\"ACTION\">FORWARD</field><value name=\"SPEED\"><block type=\"math_number\" id=\"332\"><field name=\"NUM\">100</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"333\"><field name=\"NUM\">1.5</field></block></value><next><block type=\"coderbot_say\" id=\"334\" inline=\"false\"><value name=\"TEXT\"><block type=\"text\" id=\"335\"><field name=\"TEXT\">oggetto agganciato</field></block></value></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"336\" collapsed=\"true\" x=\"397\" y=\"6\"><mutation><arg name=\"colore\"></arg></mutation><field name=\"NAME\">cerca_deposito</field><statement name=\"STACK\"><block type=\"controls_whileUntil\" id=\"337\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"338\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"339\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"340\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"341\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO\"><block type=\"variables_set\" id=\"342\" inline=\"true\"><field name=\"VAR\">giro</field><value name=\"VALUE\"><block type=\"math_number\" id=\"343\"><field name=\"NUM\">0</field></block></value><next><block type=\"controls_whileUntil\" id=\"344\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_operation\" id=\"345\" inline=\"true\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"346\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"347\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"348\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"349\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"350\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"351\"><field name=\"VAR\">giro</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"352\"><field name=\"NUM\">1</field></block></value></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"353\" inline=\"true\"><field name=\"ACTION\">LEFT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"354\"><field name=\"NUM\">75</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"355\"><field name=\"NUM\">0.4</field></block></value><next><block type=\"variables_set\" id=\"356\" inline=\"true\"><field name=\"VAR\">giro</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"357\" inline=\"true\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"358\"><field name=\"VAR\">giro</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"359\"><field name=\"NUM\">0.06</field></block></value></block></value></block></next></block></statement><next><block type=\"coderbot_adv_move\" id=\"360\" inline=\"true\"><field name=\"ACTION\">FORWARD</field><value name=\"SPEED\"><block type=\"math_number\" id=\"361\"><field name=\"NUM\">100</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"362\"><field name=\"NUM\">2</field></block></value></block></next></block></next></block></statement><next><block type=\"coderbot_say\" id=\"363\" inline=\"false\"><value name=\"TEXT\"><block type=\"text\" id=\"364\"><field name=\"TEXT\">deposito avvistato</field></block></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"365\" collapsed=\"true\" x=\"394\" y=\"51\"><mutation><arg name=\"colore\"></arg></mutation><field name=\"NAME\">raggiungi_deposito</field><statement name=\"STACK\"><block type=\"controls_whileUntil\" id=\"366\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"367\" inline=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"368\" inline=\"true\"><field name=\"RETVAL\">DIST</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"369\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"370\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO\"><block type=\"controls_whileUntil\" id=\"371\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"372\" inline=\"true\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"373\" inline=\"true\"><field name=\"RETVAL\">ANGLE</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"374\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"375\"><field name=\"NUM\">-5</field></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"376\" inline=\"true\"><field name=\"ACTION\">LEFT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"377\"><field name=\"NUM\">80</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"378\"><field name=\"NUM\">0.1</field></block></value></block></statement><next><block type=\"controls_whileUntil\" id=\"379\" inline=\"false\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"380\" inline=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"coderbot_adv_findColor\" id=\"381\" inline=\"true\"><field name=\"RETVAL\">ANGLE</field><value name=\"COLOR\"><block type=\"variables_get\" id=\"382\"><field name=\"VAR\">colore</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"383\"><field name=\"NUM\">5</field></block></value></block></value><statement name=\"DO\"><block type=\"coderbot_adv_move\" id=\"384\" inline=\"true\"><field name=\"ACTION\">RIGHT</field><value name=\"SPEED\"><block type=\"math_number\" id=\"385\"><field name=\"NUM\">80</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"386\"><field name=\"NUM\">0.1</field></block></value></block></statement><next><block type=\"coderbot_adv_move\" id=\"387\" inline=\"true\"><field name=\"ACTION\">FORWARD</field><value name=\"SPEED\"><block type=\"math_number\" id=\"388\"><field name=\"NUM\">100</field></block></value><value name=\"ELAPSE\"><block type=\"math_number\" id=\"389\"><field name=\"NUM\">2</field></block></value></block></next></block></next></block></statement><next><block type=\"coderbot_say\" id=\"390\" inline=\"false\"><value name=\"TEXT\"><block type=\"text\" id=\"391\"><field name=\"TEXT\">missione compiuta</field></block></value></block></next></block></statement></block></xml>", "code": "colore_oggetto = None\ncolore = None\ncolore_deposito = None\ngiro = None\n\ndef cerca_oggetto(colore):\n  global giro\n  get_prog_eng().check_end()\n  while get_cam().find_color(colore)[0] < 0:\n    get_prog_eng().check_end()\n    giro = 0\n    while get_cam().find_color(colore)[0] < 0 and giro < 1:\n      get_prog_eng().check_end()\n      get_bot().left(speed=75, elapse=0.4)\n      giro = giro + 0.05\n  get_bot().say('oggetto trovato')\n\ndef prendi_oggetto(colore):\n  get_prog_eng().check_end()\n  while get_cam().find_color(colore)[0] > 25:\n    get_prog_eng().check_end()\n    while get_cam().find_color(colore)[1] < -5:\n      get_prog_eng().check_end()\n      get_bot().left(speed=80, elapse=0.1)\n    while get_cam().find_color(colore)[1] > 5:\n      get_prog_eng().check_end()\n      get_bot().right(speed=80, elapse=0.1)\n    get_bot().forward(speed=100, elapse=get_cam().find_color(colore)[0] / 20)\n  get_bot().forward(speed=100, elapse=1.5)\n  get_bot().say('oggetto agganciato')\n\ndef cerca_deposito(colore):\n  global giro\n  get_prog_eng().check_end()\n  while get_cam().find_color(colore)[0] < 0:\n    get_prog_eng().check_end()\n    giro = 0\n    while get_cam().find_color(colore)[0] < 0 and giro < 1:\n      get_prog_eng().check_end()\n      get_bot().left(speed=75, elapse=0.4)\n      giro = giro + 0.06\n    get_bot().forward(speed=100, elapse=2)\n  get_bot().say('deposito avvistato')\n\ndef raggiungi_deposito(colore):\n  get_prog_eng().check_end()\n  while get_cam().find_color(colore)[0] > 0:\n    get_prog_eng().check_end()\n    while get_cam().find_color(colore)[1] < -5:\n      get_prog_eng().check_end()\n      get_bot().left(speed=80, elapse=0.1)\n    while get_cam().find_color(colore)[1] > 5:\n      get_prog_eng().check_end()\n      get_bot().right(speed=80, elapse=0.1)\n    get_bot().forward(speed=100, elapse=2)\n  get_bot().say('missione compiuta')\n\n\ncolore_oggetto = '#ff6600'\ncolore_deposito = '#ffcc00'\ncerca_oggetto(colore_oggetto)\nprendi_oggetto(colore_oggetto)\ncerca_deposito(colore_deposito)\nraggiungi_deposito(colore_deposito)\n", "name": "find_color"}