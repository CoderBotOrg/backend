{"dom_code": "<xml xmlns=\"http://www.w3.org/1999/xhtml\"><block type=\"controls_whileUntil\" id=\"1\" inline=\"false\" x=\"132\" y=\"-400\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_boolean\" id=\"2\"><field name=\"BOOL\">TRUE</field></block></value><statement name=\"DO\"><block type=\"text_print\" id=\"45\" inline=\"false\"><value name=\"TEXT\"><block type=\"text\" id=\"61\"><field name=\"TEXT\">looking for eggs</field></block></value><next><block type=\"variables_set\" id=\"3\" inline=\"true\"><field name=\"VAR\">egg_dist_angle</field><value name=\"VALUE\"><block type=\"coderbot_adv_findColor\" id=\"4\" inline=\"true\"><field name=\"RETVAL\">BOTH</field><value name=\"COLOR\"><block type=\"colour_picker\" id=\"5\"><field name=\"COLOUR\">#ff0000</field></block></value></block></value><next><block type=\"variables_set\" id=\"6\" inline=\"true\"><field name=\"VAR\">egg_dist</field><value name=\"VALUE\"><block type=\"math_round\" id=\"7\" inline=\"false\"><field name=\"OP\">ROUND</field><value name=\"NUM\"><block type=\"lists_getIndex\" id=\"8\" inline=\"true\"><mutation statement=\"false\" at=\"false\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"9\"><field name=\"VAR\">egg_dist_angle</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"10\" inline=\"true\"><field name=\"VAR\">egg_angle</field><value name=\"VALUE\"><block type=\"math_round\" id=\"11\" inline=\"false\"><field name=\"OP\">ROUND</field><value name=\"NUM\"><block type=\"lists_getIndex\" id=\"12\" inline=\"true\"><mutation statement=\"false\" at=\"false\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">LAST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"13\"><field name=\"VAR\">egg_dist_angle</field></block></value></block></value></block></value><next><block type=\"controls_if\" id=\"20\" inline=\"false\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"21\" inline=\"true\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\"22\"><field name=\"VAR\">egg_dist</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"23\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"text_print\" id=\"14\" inline=\"false\"><value name=\"TEXT\"><block type=\"text_join\" id=\"15\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"16\"><field name=\"TEXT\">egg found at </field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"17\"><field name=\"VAR\">egg_dist</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"18\"><field name=\"TEXT\"> cm, </field></block></value><value name=\"ADD3\"><block type=\"variables_get\" id=\"19\"><field name=\"VAR\">egg_angle</field></block></value><value name=\"ADD4\"><block type=\"text\" id=\"85\"><field name=\"TEXT\"> angle</field></block></value></block></value><next><block type=\"coderbot_motion_turn\" id=\"24\" inline=\"true\"><value name=\"ANGLE\"><block type=\"variables_get\" id=\"25\"><field name=\"VAR\">egg_angle</field></block></value><next><block type=\"coderbot_motion_move\" id=\"26\" inline=\"true\"><value name=\"DIST\"><block type=\"variables_get\" id=\"27\"><field name=\"VAR\">egg_dist</field></block></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"coderbot_motion_turn\" id=\"28\" inline=\"true\"><value name=\"ANGLE\"><block type=\"math_number\" id=\"29\"><field name=\"NUM\">30</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></statement></block></xml>", "code": "import math\n\negg_dist_angle = None\negg_dist = None\negg_angle = None\n\n\nwhile True:\n  get_prog_eng().check_end()\n  get_cam().set_text('looking for eggs')\n  egg_dist_angle = get_cam().find_color('#ff0000')\n  egg_dist = round(egg_dist_angle[0])\n  egg_angle = round(egg_dist_angle[-1])\n  if egg_dist >= 0:\n    get_cam().set_text(''.join([str(temp_value) for temp_value in ['egg found at ', egg_dist, ' cm, ', egg_angle, ' angle']]))\n    get_motion().turn(angle=egg_angle)\n    get_motion().move(dist=egg_dist)\n  else:\n    get_motion().turn(angle=30)\n", "name": "egg_catcher"}